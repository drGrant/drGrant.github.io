"use strict";(self.webpackChunkprotfolio=self.webpackChunkprotfolio||[]).push([[494],{9494:function(e,t,n){n.r(t),n.d(t,{default:function(){return W}});var i=n(2791),r=n(338),o=n(976),a=n(3520),s=n(5892),c=n(2703),h=n(6519),u=n(7689),l=n(1453),d=n(1413),f=n(5647),m=n(3433),p=n(9439),g=n(5987),D=n(7760),v=n(6944),x=n(2226),j=n(1190),w=n(184),b=["wave","args","sunColor","waterColor","alpha","map"];(0,v.e)({Water:j.B});var y=function(e){var t=e.wave,n=t.height,r=void 0===n?8:n,o=t.swell,a=void 0===o?9.18:o,s=t.speed,c=void 0===s?9e-4:s,h=t.offSetTime,u=void 0===h?3:h,l=e.args,j=void 0===l?[200,200,90,90]:l,y=e.sunColor,Z=e.waterColor,S=e.alpha,M=e.map,k=void 0===M?"/assets/img/normal.jpg":M,A=(0,g.Z)(e,b),C=(0,v.D)(x.d,[k]),R=(0,p.Z)(C,1)[0],q=(0,i.useRef)(),z=(0,v.z)((function(e){return e.gl}));R.wrapS=R.wrapT=D.RepeatWrapping,R.repeat.set(500,500);var B=(0,i.useMemo)((function(){return(0,f.Z)(D.PlaneGeometry,(0,m.Z)(j))}),[]),E=(0,i.useMemo)((function(){return{textureWidth:1400,textureHeight:1400,waterNormals:R,sunDirection:new D.Vector3(1.1,0,.1),eye:new D.Vector3(1.1,0,.1),sunColor:y,waterColor:Z,alpha:S||.95,distortionScale:5,side:D.DoubleSide,fog:!0,format:z.encoding}}),[R,z.encoding,y,Z,S]);return(0,v.A)((function(e,t){e.clock;q&&null!==q&&void 0!==q&&q.current&&(!function(e,t){for(var n=performance.now()*c,i=q.current.geometry.attributes.position,r=new D.Vector3(0,0,0),o=new D.Vector3,a=0,s=i.count;a<s;a++){o.fromBufferAttribute(i,a),o.sub(r);var h=Math.sin(o.length()/-e+n)*t;i.setZ(a,h)}i.needsUpdate=!0}(r,a),q.current.material.uniforms.time.value+=t/u)})),R&&(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("water",(0,d.Z)({ref:q,args:[B,E]},A))})},Z=n(4358),S=["url","y","space","width","height","obj"];function M(e){var t=e.url,n=e.y,r=void 0===n?2500:n,o=e.space,a=void 0===o?1.8:o,s=e.width,h=void 0===s?.01:s,u=e.height,l=void 0===u?.05:u,f=e.obj,m=void 0===f?new D.Object3D:f,p=(0,g.Z)(e,S),x=(0,i.useRef)(),j=(0,Z.Rq)((function(){return(0,c.K$)(t)}),[t]),b=j.gain,y=j.context,M=j.update,k=j.data;return(0,i.useEffect)((function(){return b.connect(y.destination),function(){return b.disconnect()}}),[b,y]),(0,v.A)((function(e){for(var t=M(),n=0;n<k.length;n++)m.position.set(n*h*a-k.length*h*a/2,k[n]/r,0),m.updateMatrix(),x.current.setMatrixAt(n,m.matrix);x.current.material.color.setHSL(t/500,.75,.75),x.current.instanceMatrix.needsUpdate=!0})),(0,w.jsxs)("instancedMesh",(0,d.Z)((0,d.Z)({castShadow:!0,ref:x,args:[null,null,k.length]},p),{},{children:[(0,w.jsx)("planeGeometry",{args:[h,l]}),(0,w.jsx)("meshBasicMaterial",{toneMapped:!1})]}))}var k=n(9917),A=["args"],C=function(e){var t=e.args,n=void 0===t?[500,500]:t,r=(0,g.Z)(e,A),o=(0,k.Z)("assets/img/smoke-1.png"),a=(0,i.useRef)(),s=9e-4*Math.random();return(0,v.A)((function(e,t){e.clock;a.current.position.z-=Math.sin(2e-4*performance.now()*s),a.current.position.x-=Math.sin(2e-4*performance.now()*s)})),(0,w.jsxs)("mesh",(0,d.Z)((0,d.Z)({ref:a,transparent:!0},r),{},{children:[(0,w.jsx)("planeGeometry",{attach:"geometry",args:n,receiveShadow:!0,transparent:!0}),(0,w.jsx)("meshLambertMaterial",{attach:"material",map:o,opacity:.6,transparent:!0,side:D.DoubleSide})]}))},R=["args"],q=function(e){e.args;var t=(0,g.Z)(e,R);(0,i.useRef)();return(0,v.A)((function(e,t){e.clock})),(0,w.jsx)("group",(0,d.Z)((0,d.Z)({},t),{},{children:Array(25).fill(null).map((function(e,t){return(0,w.jsx)(C,{args:[100,100,32],position:[800*Math.random()-400,(0,c.Dh)(45),500*Math.random()-450],rotation:[(0,c.Dh)(-.65),(0,c.Dh)(0),360*Math.random()]},t)}))}))},z=n(9335),B=n(4294),E=n(6668),F=["src","animate"],L=function(e){var t=e.src,n=e.animate,r=(0,g.Z)(e,F),o=(0,i.useRef)(),a=function(e){var t=e.meshRef;return(0,v.A)((function(e,i){var r=e.clock;n({meshRef:t,clock:r,delta:i})})),null},s=(0,v.D)(E.E,t);return(0,w.jsxs)("group",(0,d.Z)((0,d.Z)({ref:o},r),{},{children:[(0,w.jsx)("primitive",{object:s.scene}),n&&(0,w.jsx)(a,{meshRef:o})]}))},_=function(e){var t=function(t){return e(t)};(0,i.useEffect)((function(){return window.addEventListener("wheel",t),function(){window.removeEventListener("wheel",t)}}))},G=function(){var e,t=(0,i.useState)({speed:.095,maxDistance:900,resetDistance:500,active:!1,width:window.innerWidth,height:window.innerHeight,loaded:!0}),n=(0,p.Z)(t,2),r=n[0],o=n[1],a=(0,z.q_)({scale:r.active?1.5:1,lightEmission:r.active?1.5:0,fireFlies:r.active?[-(0,c.Dh)(.5),-(0,c.Dh)(10),(0,c.Dh)(1)]:[-(0,c.Dh)(.5),0,(0,c.Dh)(1)]}),s=(0,i.useRef)({increaser:0,limit:2,triger:1});return _((function(e){null!==s&&void 0!==s&&s.current&&e.wheelDelta>0?s.current.increaser++:s.current.increaser--,s.current.increaser>s.current.limit&&(s.current.increaser=s.current.limit),s.current.increaser<-s.current.limit&&(s.current.increaser=-s.current.limit),s.current.increaser>s.current.triger&&!r.active&&o((function(e){return(0,d.Z)((0,d.Z)({},e),{},{active:!e.active})})),s.current.increaser<-s.current.triger&&r.active&&o((function(e){return(0,d.Z)((0,d.Z)({},e),{},{active:!e.active})}))})),(0,w.jsxs)("group",{children:[(0,w.jsxs)("group",{name:"house on the lake",position:[(0,c.Dh)(0),-(0,c.Dh)(.1),(0,c.Dh)(0)],children:[(0,w.jsx)(z.q.group,{position:a.fireFlies,children:(0,w.jsx)(B.P,{count:500,scale:[30,10,20],size:5,speed:Math.sin(performance.now()*(200*Math.random())-1)})}),(0,w.jsxs)(z.q.group,{name:"lamp_light",onClick:function(){o((function(e){return(0,d.Z)((0,d.Z)({},e),{},{active:!e.active})}))},children:[(0,w.jsx)(z.q.pointLight,{intensity:a.lightEmission,position:[-(0,c.Dh)(2.4),(0,c.Dh)(3),(0,c.Dh)(4.73)],color:"#FFB76B",castShadow:!0}),(0,w.jsxs)("mesh",{position:[-(0,c.Dh)(2.4),(0,c.Dh)(3),(0,c.Dh)(4.73)],children:[(0,w.jsx)("boxGeometry",{attach:"geometry",args:[(0,c.Dh)(.75),(0,c.Dh)(.1),(0,c.Dh)(.75)],rotation:[(0,c.Dh)(.95),(0,c.Dh)(0),(0,c.Dh)(0)]}),(0,w.jsx)(z.q.meshStandardMaterial,{attach:"material",emissiveIntensity:a.lightEmission,side:D.DoubleSide,emissive:"#FFB76B",color:"#22bad6",castShadow:!0})]}),(0,w.jsxs)("mesh",{position:[-(0,c.Dh)(2.4),(0,c.Dh)(2.75),(0,c.Dh)(4.725)],children:[(0,w.jsx)("boxGeometry",{attach:"geometry",args:[(0,c.Dh)(.65),(0,c.Dh)(.1),(0,c.Dh)(.65)],rotation:[(0,c.Dh)(.95),(0,c.Dh)(0),(0,c.Dh)(0)]}),(0,w.jsx)(z.q.meshStandardMaterial,{attach:"material",emissiveIntensity:a.lightEmission,side:D.DoubleSide,emissive:"#FFB76B",color:"#22bad6"})]})]}),(0,w.jsx)(L,{src:"/assets/obj/casa.gltf",position:[0,0,0],rotation:[0,-(0,c.Dh)(2.5),0]})]}),(0,w.jsx)("group",{name:"wooden boat at the peer",position:[0,(0,c.Dh)(.19),(0,c.Dh)(10.1)],children:(0,w.jsx)(L,{src:"/assets/obj/wood_boat.gltf",scale:(0,m.Z)((e=(0,c.Dh)(2),Array(3).fill(e))),rotation:[0,(0,c.Dh)(2),0],animate:function(e){var t=e.meshRef;e.delta,e.clock;t.current.position.y=Math.sin(new D.Vector3(15).length(.9)/8+-9e-4*performance.now())}})})]})},P=n(4136),V=n(7298);function W(){var e=V._,t=(0,u.s0)();return(0,w.jsx)("div",{className:"moon flex h-screen w-screen flex-col items-center justify-center",children:(0,w.jsx)(i.Suspense,{fallback:(0,w.jsx)(r.a,{}),children:(0,w.jsxs)(s.Xz,{performance:{min:.5},flat:!0,linear:!0,shadows:!0,children:[(0,w.jsx)(o.c,{makeDefault:!0,fov:75,far:1e3,near:.01,position:[0,(0,c.Dh)(5),(0,c.Dh)(15)],aspect:window.innerWidth/window.innerHeight}),(0,w.jsx)("ambientLight",{color:"white",intensity:.25}),(0,w.jsx)("directionalLight",{intensity:.5,position:[-(0,c.Dh)(2.4),(0,c.Dh)(3),-(0,c.Dh)(4.73)],color:"#ffb76b",castShadow:!0}),(0,w.jsx)(l.Z,{turbidity:.1}),(0,w.jsx)(q,{}),(0,w.jsx)(G,{}),(0,w.jsx)(M,{url:"assets/sound/night_by_the_river.mp3"}),(0,w.jsx)(y,{position:[0,(0,c.Dh)(.1),0],args:[500,500,90,90],rotation:[(0,c.Dh)(-.5),0,0],wave:{height:8,speed:-9e-4,swell:.9,offSetTime:12},sunColor:"wheat",waterColor:"rgb(30,175,255)",alpha:1,map:"assets/img/normal.jpg",castShadow:!0}),(0,w.jsx)("group",{position:[(0,c.Dh)(3),(0,c.Dh)(10),(0,c.Dh)(-15)],onClick:function(){(0,c.sj)(t(e[1].route))},children:(0,w.jsx)(P.Z,{textstring:"<-Back",fontSize:10,fontHeight:.3,position:[0,0,0],hover:"#ff99cc"})}),(0,w.jsx)(a.z,{minPolarAngle:(0,c.Dh)(.24),maxPolarAngle:(0,c.Dh)(.4),maxAzimuthAngle:(0,c.Dh)(.5),minAzimuthAngle:(0,c.Dh)(-.5),maxDistance:(0,c.Dh)(20),minDistance:(0,c.Dh)(12),enablePan:!1}),(0,w.jsxs)(h.xC,{children:[(0,w.jsx)(h.y8,{focusDistance:0,focalLength:300,bokehScale:7.5,height:1}),(0,w.jsx)(h.dp,{luminanceThreshold:40,luminanceSmoothing:9,height:30}),(0,w.jsx)(h.cy,{opacity:.05}),(0,w.jsx)(h.sY,{eskil:!0,offset:0,darkness:1.1})]})]})})})}},1453:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(9439),r=n(4671),o=n(7760),a=n(2703),s=n(9335),c=n(7105),h=n(2791),u=n(6944),l=n(184);function d(e){var t=e.inclination,n=void 0===t?.2:t,d=e.azimuth,f=void 0===d?0:d,m=e.mieCoefficient,p=void 0===m?.82:m,g=e.mieDirectionalG,D=void 0===g?.59:g,v=e.rayleigh,x=void 0===v?0:v,j=e.turbidity,w=void 0===j?5:j,b=(0,h.useState)({lightsOn:!1}),y=(0,i.Z)(b,2),Z=y[0],S=(y[1],(0,h.useRef)()),M=(0,s.q_)({position:Z.lightsOn?[0,(0,a.Dh)(0),(0,a.Dh)(0)]:[0,(0,a.Dh)(0),0],opacity:Z.lightsOn?0:.2}),k=Z.lightsOn?new o.Vector3(0,.5,-90):new o.Vector3(0,.005,-.1);return(0,u.A)((function(e,t){S.current&&c.Ui.damp3(S.current.material.uniforms.sunPosition,k,.25,t)})),(0,l.jsx)(s.q.group,{position:M.position,children:(0,l.jsx)(r.q,{ref:S,distance:window.innerWidth,sunPosition:k,inclination:n,azimuth:f,mieCoefficient:p,mieDirectionalG:D,rayleigh:x,turbidity:w})})}}}]);
//# sourceMappingURL=494.b82075d0.chunk.js.map