"use strict";(self.webpackChunkprotfolio=self.webpackChunkprotfolio||[]).push([[467],{3520:function(e,t,n){n.d(t,{z:function(){return b}});var o=n(5987),a=n(7462),i=n(6944),r=n(2791),c=n(3144),l=n(5671),s=n(7326),u=n(136),m=n(9388),f=n(7760),p=Object.defineProperty,d=function(e,t,n){return function(e,t,n){t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n},v=function(e,t){return(e%t+t)%t},h=function(e){(0,u.Z)(n,e);var t=(0,m.Z)(n);function n(e,o){var a;(0,l.Z)(this,n),a=t.call(this),d((0,s.Z)(a),"object"),d((0,s.Z)(a),"domElement"),d((0,s.Z)(a),"enabled",!0),d((0,s.Z)(a),"target",new f.Vector3),d((0,s.Z)(a),"minDistance",0),d((0,s.Z)(a),"maxDistance",1/0),d((0,s.Z)(a),"minZoom",0),d((0,s.Z)(a),"maxZoom",1/0),d((0,s.Z)(a),"minPolarAngle",0),d((0,s.Z)(a),"maxPolarAngle",Math.PI),d((0,s.Z)(a),"minAzimuthAngle",-1/0),d((0,s.Z)(a),"maxAzimuthAngle",1/0),d((0,s.Z)(a),"enableDamping",!1),d((0,s.Z)(a),"dampingFactor",.05),d((0,s.Z)(a),"enableZoom",!0),d((0,s.Z)(a),"zoomSpeed",1),d((0,s.Z)(a),"enableRotate",!0),d((0,s.Z)(a),"rotateSpeed",1),d((0,s.Z)(a),"enablePan",!0),d((0,s.Z)(a),"panSpeed",1),d((0,s.Z)(a),"screenSpacePanning",!0),d((0,s.Z)(a),"keyPanSpeed",7),d((0,s.Z)(a),"autoRotate",!1),d((0,s.Z)(a),"autoRotateSpeed",2),d((0,s.Z)(a),"reverseOrbit",!1),d((0,s.Z)(a),"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),d((0,s.Z)(a),"mouseButtons",{LEFT:f.MOUSE.ROTATE,MIDDLE:f.MOUSE.DOLLY,RIGHT:f.MOUSE.PAN}),d((0,s.Z)(a),"touches",{ONE:f.TOUCH.ROTATE,TWO:f.TOUCH.DOLLY_PAN}),d((0,s.Z)(a),"target0"),d((0,s.Z)(a),"position0"),d((0,s.Z)(a),"zoom0"),d((0,s.Z)(a),"_domElementKeyEvents",null),d((0,s.Z)(a),"getPolarAngle"),d((0,s.Z)(a),"getAzimuthalAngle"),d((0,s.Z)(a),"setPolarAngle"),d((0,s.Z)(a),"setAzimuthalAngle"),d((0,s.Z)(a),"getDistance"),d((0,s.Z)(a),"listenToKeyEvents"),d((0,s.Z)(a),"saveState"),d((0,s.Z)(a),"reset"),d((0,s.Z)(a),"update"),d((0,s.Z)(a),"connect"),d((0,s.Z)(a),"dispose"),a.object=e,a.domElement=o,a.target0=a.target.clone(),a.position0=a.object.position.clone(),a.zoom0=a.object.zoom,a.getPolarAngle=function(){return g.phi},a.getAzimuthalAngle=function(){return g.theta},a.setPolarAngle=function(e){var t=v(e,2*Math.PI),n=g.phi;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);var o=Math.abs(t-n);2*Math.PI-o<o&&(t<n?t+=2*Math.PI:n+=2*Math.PI),b.phi=t-n,i.update()},a.setAzimuthalAngle=function(e){var t=v(e,2*Math.PI),n=g.theta;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);var o=Math.abs(t-n);2*Math.PI-o<o&&(t<n?t+=2*Math.PI:n+=2*Math.PI),b.theta=t-n,i.update()},a.getDistance=function(){return i.object.position.distanceTo(i.target)},a.listenToKeyEvents=function(e){e.addEventListener("keydown",ee),a._domElementKeyEvents=e},a.saveState=function(){i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},a.reset=function(){i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),p=m.NONE},a.update=function(){var t=new f.Vector3,n=(new f.Quaternion).setFromUnitVectors(e.up,new f.Vector3(0,1,0)),o=n.clone().invert(),a=new f.Vector3,c=new f.Quaternion,l=2*Math.PI;return function(){var e=i.object.position;t.copy(e).sub(i.target),t.applyQuaternion(n),g.setFromVector3(t),i.autoRotate&&p===m.NONE&&j(2*Math.PI/60/60*i.autoRotateSpeed),i.enableDamping?(g.theta+=b.theta*i.dampingFactor,g.phi+=b.phi*i.dampingFactor):(g.theta+=b.theta,g.phi+=b.phi);var s=i.minAzimuthAngle,u=i.maxAzimuthAngle;return isFinite(s)&&isFinite(u)&&(s<-Math.PI?s+=l:s>Math.PI&&(s-=l),u<-Math.PI?u+=l:u>Math.PI&&(u-=l),g.theta=s<=u?Math.max(s,Math.min(u,g.theta)):g.theta>(s+u)/2?Math.max(s,g.theta):Math.min(u,g.theta)),g.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,g.phi)),g.makeSafe(),g.radius*=E,g.radius=Math.max(i.minDistance,Math.min(i.maxDistance,g.radius)),!0===i.enableDamping?i.target.addScaledVector(y,i.dampingFactor):i.target.add(y),t.setFromSpherical(g),t.applyQuaternion(o),e.copy(i.target).add(t),i.object.lookAt(i.target),!0===i.enableDamping?(b.theta*=1-i.dampingFactor,b.phi*=1-i.dampingFactor,y.multiplyScalar(1-i.dampingFactor)):(b.set(0,0,0),y.set(0,0,0)),E=1,!!(P||a.distanceToSquared(i.object.position)>h||8*(1-c.dot(i.object.quaternion))>h)&&(i.dispatchEvent(r),a.copy(i.object.position),c.copy(i.object.quaternion),P=!1,!0)}}(),a.connect=function(e){e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),i.domElement=e,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",te),i.domElement.addEventListener("pointerdown",W),i.domElement.addEventListener("pointercancel",J),i.domElement.addEventListener("wheel",$)},a.dispose=function(){var e,t,n,o,a,r;null==(e=i.domElement)||e.removeEventListener("contextmenu",te),null==(t=i.domElement)||t.removeEventListener("pointerdown",W),null==(n=i.domElement)||n.removeEventListener("pointercancel",J),null==(o=i.domElement)||o.removeEventListener("wheel",$),null==(a=i.domElement)||a.ownerDocument.removeEventListener("pointermove",q),null==(r=i.domElement)||r.ownerDocument.removeEventListener("pointerup",Q),null!==i._domElementKeyEvents&&i._domElementKeyEvents.removeEventListener("keydown",ee)};var i=(0,s.Z)(a),r={type:"change"},c={type:"start"},u={type:"end"},m={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},p=m.NONE,h=1e-6,g=new f.Spherical,b=new f.Spherical,E=1,y=new f.Vector3,P=!1,O=new f.Vector2,T=new f.Vector2,w=new f.Vector2,M=new f.Vector2,Z=new f.Vector2,A=new f.Vector2,S=new f.Vector2,L=new f.Vector2,x=new f.Vector2,C=[],R={};function D(){return Math.pow(.95,i.zoomSpeed)}function j(e){i.reverseOrbit?b.theta+=e:b.theta-=e}function N(e){i.reverseOrbit?b.phi+=e:b.phi-=e}var k=function(){var e=new f.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),y.add(e)}}(),z=function(){var e=new f.Vector3;return function(t,n){!0===i.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(i.object.up,e)),e.multiplyScalar(t),y.add(e)}}(),I=function(){var e=new f.Vector3;return function(t,n){var o=i.domElement;if(o&&i.object instanceof f.PerspectiveCamera&&i.object.isPerspectiveCamera){var a=i.object.position;e.copy(a).sub(i.target);var r=e.length();r*=Math.tan(i.object.fov/2*Math.PI/180),k(2*t*r/o.clientHeight,i.object.matrix),z(2*n*r/o.clientHeight,i.object.matrix)}else o&&i.object instanceof f.OrthographicCamera&&i.object.isOrthographicCamera?(k(t*(i.object.right-i.object.left)/i.object.zoom/o.clientWidth,i.object.matrix),z(n*(i.object.top-i.object.bottom)/i.object.zoom/o.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}}();function _(e){i.object instanceof f.PerspectiveCamera&&i.object.isPerspectiveCamera?E/=e:i.object instanceof f.OrthographicCamera&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*e)),i.object.updateProjectionMatrix(),P=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function V(e){i.object instanceof f.PerspectiveCamera&&i.object.isPerspectiveCamera?E*=e:i.object instanceof f.OrthographicCamera&&i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/e)),i.object.updateProjectionMatrix(),P=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function Y(e){O.set(e.clientX,e.clientY)}function H(e){M.set(e.clientX,e.clientY)}function U(){if(1==C.length)O.set(C[0].pageX,C[0].pageY);else{var e=.5*(C[0].pageX+C[1].pageX),t=.5*(C[0].pageY+C[1].pageY);O.set(e,t)}}function F(){if(1==C.length)M.set(C[0].pageX,C[0].pageY);else{var e=.5*(C[0].pageX+C[1].pageX),t=.5*(C[0].pageY+C[1].pageY);M.set(e,t)}}function B(){var e=C[0].pageX-C[1].pageX,t=C[0].pageY-C[1].pageY,n=Math.sqrt(e*e+t*t);S.set(0,n)}function X(e){if(1==C.length)T.set(e.pageX,e.pageY);else{var t=ae(e),n=.5*(e.pageX+t.x),o=.5*(e.pageY+t.y);T.set(n,o)}w.subVectors(T,O).multiplyScalar(i.rotateSpeed);var a=i.domElement;a&&(j(2*Math.PI*w.x/a.clientHeight),N(2*Math.PI*w.y/a.clientHeight)),O.copy(T)}function K(e){if(1==C.length)Z.set(e.pageX,e.pageY);else{var t=ae(e),n=.5*(e.pageX+t.x),o=.5*(e.pageY+t.y);Z.set(n,o)}A.subVectors(Z,M).multiplyScalar(i.panSpeed),I(A.x,A.y),M.copy(Z)}function G(e){var t=ae(e),n=e.pageX-t.x,o=e.pageY-t.y,a=Math.sqrt(n*n+o*o);L.set(0,a),x.set(0,Math.pow(L.y/S.y,i.zoomSpeed)),_(x.y),S.copy(L)}function W(e){var t,n;!1!==i.enabled&&(0===C.length&&(null==(t=i.domElement)||t.ownerDocument.addEventListener("pointermove",q),null==(n=i.domElement)||n.ownerDocument.addEventListener("pointerup",Q)),function(e){C.push(e)}(e),"touch"===e.pointerType?function(e){switch(oe(e),C.length){case 1:switch(i.touches.ONE){case f.TOUCH.ROTATE:if(!1===i.enableRotate)return;U(),p=m.TOUCH_ROTATE;break;case f.TOUCH.PAN:if(!1===i.enablePan)return;F(),p=m.TOUCH_PAN;break;default:p=m.NONE}break;case 2:switch(i.touches.TWO){case f.TOUCH.DOLLY_PAN:if(!1===i.enableZoom&&!1===i.enablePan)return;i.enableZoom&&B(),i.enablePan&&F(),p=m.TOUCH_DOLLY_PAN;break;case f.TOUCH.DOLLY_ROTATE:if(!1===i.enableZoom&&!1===i.enableRotate)return;i.enableZoom&&B(),i.enableRotate&&U(),p=m.TOUCH_DOLLY_ROTATE;break;default:p=m.NONE}break;default:p=m.NONE}p!==m.NONE&&i.dispatchEvent(c)}(e):function(e){var t;switch(e.button){case 0:t=i.mouseButtons.LEFT;break;case 1:t=i.mouseButtons.MIDDLE;break;case 2:t=i.mouseButtons.RIGHT;break;default:t=-1}switch(t){case f.MOUSE.DOLLY:if(!1===i.enableZoom)return;!function(e){S.set(e.clientX,e.clientY)}(e),p=m.DOLLY;break;case f.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===i.enablePan)return;H(e),p=m.PAN}else{if(!1===i.enableRotate)return;Y(e),p=m.ROTATE}break;case f.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===i.enableRotate)return;Y(e),p=m.ROTATE}else{if(!1===i.enablePan)return;H(e),p=m.PAN}break;default:p=m.NONE}p!==m.NONE&&i.dispatchEvent(c)}(e))}function q(e){!1!==i.enabled&&("touch"===e.pointerType?function(e){switch(oe(e),p){case m.TOUCH_ROTATE:if(!1===i.enableRotate)return;X(e),i.update();break;case m.TOUCH_PAN:if(!1===i.enablePan)return;K(e),i.update();break;case m.TOUCH_DOLLY_PAN:if(!1===i.enableZoom&&!1===i.enablePan)return;!function(e){i.enableZoom&&G(e),i.enablePan&&K(e)}(e),i.update();break;case m.TOUCH_DOLLY_ROTATE:if(!1===i.enableZoom&&!1===i.enableRotate)return;!function(e){i.enableZoom&&G(e),i.enableRotate&&X(e)}(e),i.update();break;default:p=m.NONE}}(e):function(e){if(!1===i.enabled)return;switch(p){case m.ROTATE:if(!1===i.enableRotate)return;!function(e){T.set(e.clientX,e.clientY),w.subVectors(T,O).multiplyScalar(i.rotateSpeed);var t=i.domElement;t&&(j(2*Math.PI*w.x/t.clientHeight),N(2*Math.PI*w.y/t.clientHeight)),O.copy(T),i.update()}(e);break;case m.DOLLY:if(!1===i.enableZoom)return;!function(e){L.set(e.clientX,e.clientY),x.subVectors(L,S),x.y>0?_(D()):x.y<0&&V(D()),S.copy(L),i.update()}(e);break;case m.PAN:if(!1===i.enablePan)return;!function(e){Z.set(e.clientX,e.clientY),A.subVectors(Z,M).multiplyScalar(i.panSpeed),I(A.x,A.y),M.copy(Z),i.update()}(e)}}(e))}function Q(e){var t,n,o;ne(e),0===C.length&&(null==(t=i.domElement)||t.releasePointerCapture(e.pointerId),null==(n=i.domElement)||n.ownerDocument.removeEventListener("pointermove",q),null==(o=i.domElement)||o.ownerDocument.removeEventListener("pointerup",Q)),i.dispatchEvent(u),p=m.NONE}function J(e){ne(e)}function $(e){!1===i.enabled||!1===i.enableZoom||p!==m.NONE&&p!==m.ROTATE||(e.preventDefault(),i.dispatchEvent(c),function(e){e.deltaY<0?V(D()):e.deltaY>0&&_(D()),i.update()}(e),i.dispatchEvent(u))}function ee(e){!1!==i.enabled&&!1!==i.enablePan&&function(e){var t=!1;switch(e.code){case i.keys.UP:I(0,i.keyPanSpeed),t=!0;break;case i.keys.BOTTOM:I(0,-i.keyPanSpeed),t=!0;break;case i.keys.LEFT:I(i.keyPanSpeed,0),t=!0;break;case i.keys.RIGHT:I(-i.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),i.update())}(e)}function te(e){!1!==i.enabled&&e.preventDefault()}function ne(e){delete R[e.pointerId];for(var t=0;t<C.length;t++)if(C[t].pointerId==e.pointerId)return void C.splice(t,1)}function oe(e){var t=R[e.pointerId];void 0===t&&(t=new f.Vector2,R[e.pointerId]=t),t.set(e.pageX,e.pageY)}function ae(e){var t=e.pointerId===C[0].pointerId?C[1]:C[0];return R[t.pointerId]}return void 0!==o&&a.connect(o),a.update(),a}return(0,c.Z)(n)}(f.EventDispatcher),g=["makeDefault","camera","regress","domElement","enableDamping","keyEvents","onChange","onStart","onEnd"],b=r.forwardRef((function(e,t){var n=e.makeDefault,c=e.camera,l=e.regress,s=e.domElement,u=e.enableDamping,m=void 0===u||u,f=e.keyEvents,p=void 0!==f&&f,d=e.onChange,v=e.onStart,b=e.onEnd,E=(0,o.Z)(e,g),y=(0,i.z)((function(e){return e.invalidate})),P=(0,i.z)((function(e){return e.camera})),O=(0,i.z)((function(e){return e.gl})),T=(0,i.z)((function(e){return e.events})),w=(0,i.z)((function(e){return e.setEvents})),M=(0,i.z)((function(e){return e.set})),Z=(0,i.z)((function(e){return e.get})),A=(0,i.z)((function(e){return e.performance})),S=c||P,L=s||T.connected||O.domElement,x=r.useMemo((function(){return new h(S)}),[S]);return(0,i.A)((function(){x.enabled&&x.update()}),-1),r.useEffect((function(){return p&&x.connect(!0===p?L:p),x.connect(L),function(){x.dispose()}}),[p,L,l,x,y]),r.useEffect((function(){var e=function(e){y(),l&&A.regress(),d&&d(e)},t=function(e){v&&v(e)},n=function(e){b&&b(e)};return x.addEventListener("change",e),x.addEventListener("start",t),x.addEventListener("end",n),function(){x.removeEventListener("start",t),x.removeEventListener("end",n),x.removeEventListener("change",e)}}),[d,v,b,x,y,w]),r.useEffect((function(){if(n){var e=Z().controls;return M({controls:x}),function(){return M({controls:e})}}}),[n,x]),r.createElement("primitive",(0,a.Z)({ref:t,object:x,enableDamping:m},E))}))},4671:function(e,t,n){n.d(t,{q:function(){return b}});var o=n(9439),a=n(5987),i=n(7462),r=n(2791),c=n(3144),l=n(5671),s=n(136),u=n(9388),m=n(7760),f=Object.defineProperty,p=function(e,t,n){return function(e,t,n){t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n},d={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new m.Vector3},up:{value:new m.Vector3(0,1,0)}},vertexShader:"\n      uniform vec3 sunPosition;\n      uniform float rayleigh;\n      uniform float turbidity;\n      uniform float mieCoefficient;\n      uniform vec3 up;\n\n      varying vec3 vWorldPosition;\n      varying vec3 vSunDirection;\n      varying float vSunfade;\n      varying vec3 vBetaR;\n      varying vec3 vBetaM;\n      varying float vSunE;\n\n      // constants for atmospheric scattering\n      const float e = 2.71828182845904523536028747135266249775724709369995957;\n      const float pi = 3.141592653589793238462643383279502884197169;\n\n      // wavelength of used primaries, according to preetham\n      const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );\n      // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:\n      // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))\n      const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );\n\n      // mie stuff\n      // K coefficient for the primaries\n      const float v = 4.0;\n      const vec3 K = vec3( 0.686, 0.678, 0.666 );\n      // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K\n      const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );\n\n      // earth shadow hack\n      // cutoffAngle = pi / 1.95;\n      const float cutoffAngle = 1.6110731556870734;\n      const float steepness = 1.5;\n      const float EE = 1000.0;\n\n      float sunIntensity( float zenithAngleCos ) {\n        zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );\n        return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );\n      }\n\n      vec3 totalMie( float T ) {\n        float c = ( 0.2 * T ) * 10E-18;\n        return 0.434 * c * MieConst;\n      }\n\n      void main() {\n\n        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n        vWorldPosition = worldPosition.xyz;\n\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        gl_Position.z = gl_Position.w; // set z to camera.far\n\n        vSunDirection = normalize( sunPosition );\n\n        vSunE = sunIntensity( dot( vSunDirection, up ) );\n\n        vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );\n\n        float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );\n\n      // extinction (absorbtion + out scattering)\n      // rayleigh coefficients\n        vBetaR = totalRayleigh * rayleighCoefficient;\n\n      // mie coefficients\n        vBetaM = totalMie( turbidity ) * mieCoefficient;\n\n      }\n    ",fragmentShader:"\n      varying vec3 vWorldPosition;\n      varying vec3 vSunDirection;\n      varying float vSunfade;\n      varying vec3 vBetaR;\n      varying vec3 vBetaM;\n      varying float vSunE;\n\n      uniform float mieDirectionalG;\n      uniform vec3 up;\n\n      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );\n\n      // constants for atmospheric scattering\n      const float pi = 3.141592653589793238462643383279502884197169;\n\n      const float n = 1.0003; // refractive index of air\n      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)\n\n      // optical length at zenith for molecules\n      const float rayleighZenithLength = 8.4E3;\n      const float mieZenithLength = 1.25E3;\n      // 66 arc seconds -> degrees, and the cosine of that\n      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;\n\n      // 3.0 / ( 16.0 * pi )\n      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;\n      // 1.0 / ( 4.0 * pi )\n      const float ONE_OVER_FOURPI = 0.07957747154594767;\n\n      float rayleighPhase( float cosTheta ) {\n        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );\n      }\n\n      float hgPhase( float cosTheta, float g ) {\n        float g2 = pow( g, 2.0 );\n        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );\n        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );\n      }\n\n      void main() {\n\n        vec3 direction = normalize( vWorldPosition - cameraPos );\n\n      // optical length\n      // cutoff angle at 90 to avoid singularity in next formula.\n        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );\n        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );\n        float sR = rayleighZenithLength * inverse;\n        float sM = mieZenithLength * inverse;\n\n      // combined extinction factor\n        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );\n\n      // in scattering\n        float cosTheta = dot( direction, vSunDirection );\n\n        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );\n        vec3 betaRTheta = vBetaR * rPhase;\n\n        float mPhase = hgPhase( cosTheta, mieDirectionalG );\n        vec3 betaMTheta = vBetaM * mPhase;\n\n        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );\n        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );\n\n      // nightsky\n        float theta = acos( direction.y ); // elevation --\x3e y-axis, [-pi/2, pi/2]\n        float phi = atan( direction.z, direction.x ); // azimuth --\x3e x-axis [-pi/2, pi/2]\n        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );\n        vec3 L0 = vec3( 0.1 ) * Fex;\n\n      // composition + solar disc\n        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );\n        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;\n\n        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );\n\n        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );\n\n        gl_FragColor = vec4( retColor, 1.0 );\n\n      #include <tonemapping_fragment>\n      #include <encodings_fragment>\n\n      }\n    "},v=new m.ShaderMaterial({name:"SkyShader",fragmentShader:d.fragmentShader,vertexShader:d.vertexShader,uniforms:m.UniformsUtils.clone(d.uniforms),side:m.BackSide,depthWrite:!1}),h=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,l.Z)(this,n),t.call(this,new m.BoxGeometry(1,1,1),v)}return(0,c.Z)(n)}(m.Mesh);p(h,"SkyShader",d),p(h,"material",v);var g=["inclination","azimuth","distance","mieCoefficient","mieDirectionalG","rayleigh","turbidity","sunPosition"];var b=r.forwardRef((function(e,t){var n=e.inclination,c=void 0===n?.6:n,l=e.azimuth,s=void 0===l?.1:l,u=e.distance,f=void 0===u?1e3:u,p=e.mieCoefficient,d=void 0===p?.005:p,v=e.mieDirectionalG,b=void 0===v?.8:v,E=e.rayleigh,y=void 0===E?.5:E,P=e.turbidity,O=void 0===P?10:P,T=e.sunPosition,w=void 0===T?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new m.Vector3,o=Math.PI*(e-.5),a=2*Math.PI*(t-.5);return n.x=Math.cos(a),n.y=Math.sin(o),n.z=Math.sin(a),n}(c,s):T,M=(0,a.Z)(e,g),Z=r.useMemo((function(){return(new m.Vector3).setScalar(f)}),[f]),A=r.useState((function(){return new h})),S=(0,o.Z)(A,1)[0];return r.createElement("primitive",(0,i.Z)({object:S,ref:t,"material-uniforms-mieCoefficient-value":d,"material-uniforms-mieDirectionalG-value":b,"material-uniforms-rayleigh-value":y,"material-uniforms-sunPosition-value":w,"material-uniforms-turbidity-value":O,scale:Z},M))}))}}]);
//# sourceMappingURL=467.c87ef410.chunk.js.map