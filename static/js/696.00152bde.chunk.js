"use strict";(self.webpackChunkprotfolio=self.webpackChunkprotfolio||[]).push([[696],{6865:function(e,n,t){t.d(n,{TT:function(){return h.Z},b_:function(){return a.Z},G6:function(){return f},Kr:function(){return o},mY:function(){return s},aB:function(){return c.Z},vO:function(){return u}});var i=t(9439),r=t(2791),o=function(e){var n=(0,r.useState)(!1),t=(0,i.Z)(n,2),o=t[0],a=t[1],s=function(n){n.key===e&&a(!0)},c=function(n){n.key===e&&a(!1)};return(0,r.useEffect)((function(){return window.addEventListener("keydown",s),window.addEventListener("keyup",c),function(){window.removeEventListener("keydown",s),window.removeEventListener("keyup",c)}}),[]),o},a=t(3653);function s(){var e=(0,r.useState)({x:0,y:0}),n=(0,i.Z)(e,2),t=n[0],o=n[1],a=function(e){o({x:e.clientX,y:e.clientY})};return(0,r.useEffect)((function(){return window.addEventListener("mousemove",a),function(){window.removeEventListener("mousemove",a)}}),[]),t}var c=t(4054),u=function(e){var n=function(n){return e(n)};(0,r.useEffect)((function(){return window.addEventListener("wheel",n),function(){window.removeEventListener("wheel",n)}}))},h=t(9917),l=t(6944),d=t(7760);function f(e){var n=(0,r.useMemo)((function(){return new d.Raycaster}),[]),t=(0,r.useMemo)((function(){return new d.Vector3}),[]),i=(0,r.useMemo)((function(){return new d.Vector3}),[]),o=(0,l.z)((function(e){return e.scene}));return function(){return e.current?(n.set(e.current.getWorldPosition(t),e.current.getWorldDirection(i)),n.intersectObjects(o.children)):[]}}},4054:function(e,n,t){t.d(n,{Z:function(){return o}});var i=t(9439),r=t(2791);function o(){var e=(0,r.useState)({width:window.innerWidth,height:window.innerHeight}),n=(0,i.Z)(e,2),t=n[0],o=n[1],a=function(){o({width:window.innerWidth,height:window.innerHeight})};return(0,r.useEffect)((function(){return window.addEventListener("resize",a),function(){window.removeEventListener("resize",a)}}),[]),t}},7696:function(e,n,t){t.r(n),t.d(n,{default:function(){return W}});var i=t(1413),r=t(2791),o=t(338),a=t(976),s=t(3520),c=t(5892),u=t(2703),h=t(6519),l=t(7689),d=t(1453),f=t(6944),m=t(1190),p=t(184);(0,f.e)({Water:m.B});var v=t(5987),g=t(7760),w=t(4358),x=["url","y","space","width","height","obj"];function D(e){var n=e.url,t=e.y,o=void 0===t?2500:t,a=e.space,s=void 0===a?1.8:a,c=e.width,h=void 0===c?.01:c,l=e.height,d=void 0===l?.05:l,m=e.obj,D=void 0===m?new g.Object3D:m,j=(0,v.Z)(e,x),y=(0,r.useRef)(),S=(0,w.Rq)((function(){return(0,u.K$)(n)}),[n]),b=S.gain,M=S.context,Z=S.update,k=S.data;return(0,r.useEffect)((function(){return b.connect(M.destination),function(){return b.disconnect()}}),[b,M]),(0,f.A)((function(e){for(var n=Z(),t=0;t<k.length;t++)D.position.set(t*h*s-k.length*h*s/2,k[t]/o,0),D.updateMatrix(),y.current.setMatrixAt(t,D.matrix);y.current.material.color.setHSL(n/500,.75,.75),y.current.instanceMatrix.needsUpdate=!0})),(0,p.jsxs)("instancedMesh",(0,i.Z)((0,i.Z)({castShadow:!0,ref:y,args:[null,null,k.length]},j),{},{children:[(0,p.jsx)("planeGeometry",{args:[h,d]}),(0,p.jsx)("meshBasicMaterial",{toneMapped:!1})]}))}var j=t(9917),y=["args"],S=function(e){var n=e.args,t=void 0===n?[500,500]:n,o=(0,v.Z)(e,y),a=(0,j.Z)("assets/img/smoke-1.png"),s=(0,r.useRef)(),c=9e-4*Math.random();return(0,f.A)((function(e,n){e.clock;s.current.position.z-=Math.sin(2e-4*performance.now()*c),s.current.position.x-=Math.sin(2e-4*performance.now()*c)})),(0,p.jsxs)("mesh",(0,i.Z)((0,i.Z)({ref:s,transparent:!0},o),{},{children:[(0,p.jsx)("planeGeometry",{attach:"geometry",args:t,receiveShadow:!0,transparent:!0}),(0,p.jsx)("meshLambertMaterial",{attach:"material",map:a,opacity:.6,transparent:!0,side:g.DoubleSide})]}))},b=["args"],M=function(e){e.args;var n=(0,v.Z)(e,b);(0,r.useRef)();return(0,f.A)((function(e,n){e.clock})),(0,p.jsx)("group",(0,i.Z)((0,i.Z)({},n),{},{children:Array(25).fill(null).map((function(e,n){return(0,p.jsx)(S,{args:[100,100,32],position:[800*Math.random()-400,(0,u.Dh)(45),500*Math.random()-450],rotation:[(0,u.Dh)(-.65),(0,u.Dh)(0),360*Math.random()]},n)}))}))},Z=t(3433),k=t(9439),E=t(9335),A=t(4294),T=t(6668),L=["src","animate"],R=function(e){var n=e.src,t=e.animate,o=(0,v.Z)(e,L),a=(0,r.useRef)(),s=function(e){var n=e.meshRef;return(0,f.A)((function(e,i){var r=e.clock;(null===n||void 0===n?void 0:n.current)&&t({meshRef:n,clock:r,delta:i})})),null},c=(0,f.D)(T.E,n);return(0,p.jsxs)("group",(0,i.Z)((0,i.Z)({ref:a},o),{},{children:[(0,p.jsx)("primitive",{object:c.scene}),a&&t&&(0,p.jsx)(s,{meshRef:a})]}))},z=t(6865),B=function(){var e,n=(0,r.useState)({speed:.095,maxDistance:900,resetDistance:500,active:!1,width:window.innerWidth,height:window.innerHeight,loaded:!0}),t=(0,k.Z)(n,2),o=t[0],a=t[1],s=(0,E.q_)({scale:o.active?1.5:1,lightEmission:o.active?1.5:0,fireFlies:o.active?[-(0,u.Dh)(.5),-(0,u.Dh)(10),(0,u.Dh)(1)]:[-(0,u.Dh)(.5),0,(0,u.Dh)(1)]}),c=(0,r.useRef)({increaser:0,limit:2,triger:1});return(0,z.vO)((function(e){null!==c&&void 0!==c&&c.current&&e.wheelDelta>0?c.current.increaser++:c.current.increaser--,c.current.increaser>c.current.limit&&(c.current.increaser=c.current.limit),c.current.increaser<-c.current.limit&&(c.current.increaser=-c.current.limit),c.current.increaser>c.current.triger&&!o.active&&a((function(e){return(0,i.Z)((0,i.Z)({},e),{},{active:!e.active})})),c.current.increaser<-c.current.triger&&o.active&&a((function(e){return(0,i.Z)((0,i.Z)({},e),{},{active:!e.active})}))})),(0,p.jsxs)("group",{children:[(0,p.jsxs)("group",{name:"house on the lake",position:[(0,u.Dh)(0),-(0,u.Dh)(.1),(0,u.Dh)(0)],children:[(0,p.jsx)(E.q.group,{position:s.fireFlies,children:(0,p.jsx)(A.P,{count:500,scale:[30,10,20],size:5,speed:Math.sin(performance.now()*(200*Math.random())-1)})}),(0,p.jsxs)(E.q.group,{name:"lamp_light",onClick:function(){a((function(e){return(0,i.Z)((0,i.Z)({},e),{},{active:!e.active})}))},children:[(0,p.jsx)(E.q.pointLight,{intensity:s.lightEmission,position:[-(0,u.Dh)(2.4),(0,u.Dh)(3),(0,u.Dh)(4.73)],color:"#FFB76B",castShadow:!0}),(0,p.jsxs)("mesh",{position:[-(0,u.Dh)(2.4),(0,u.Dh)(3),(0,u.Dh)(4.73)],children:[(0,p.jsx)("boxGeometry",{attach:"geometry",args:[(0,u.Dh)(.75),(0,u.Dh)(.1),(0,u.Dh)(.75)],rotation:[(0,u.Dh)(.95),(0,u.Dh)(0),(0,u.Dh)(0)]}),(0,p.jsx)(E.q.meshStandardMaterial,{attach:"material",emissiveIntensity:s.lightEmission,side:g.DoubleSide,emissive:"#FFB76B",color:"#22bad6",castShadow:!0})]}),(0,p.jsxs)("mesh",{position:[-(0,u.Dh)(2.4),(0,u.Dh)(2.75),(0,u.Dh)(4.725)],children:[(0,p.jsx)("boxGeometry",{attach:"geometry",args:[(0,u.Dh)(.65),(0,u.Dh)(.1),(0,u.Dh)(.65)],rotation:[(0,u.Dh)(.95),(0,u.Dh)(0),(0,u.Dh)(0)]}),(0,p.jsx)(E.q.meshStandardMaterial,{attach:"material",emissiveIntensity:s.lightEmission,side:g.DoubleSide,emissive:"#FFB76B",color:"#22bad6"})]})]}),(0,p.jsx)(R,{src:"/assets/obj/casa.gltf",position:[0,0,0],rotation:[0,-(0,u.Dh)(2.5),0]})]}),(0,p.jsx)("group",{name:"wooden boat at the peer",position:[0,(0,u.Dh)(.19),(0,u.Dh)(10.1)],children:(0,p.jsx)(R,{src:"/assets/obj/wood_boat.gltf",scale:(0,Z.Z)((e=(0,u.Dh)(2),Array(3).fill(e))),rotation:[0,(0,u.Dh)(2),0],animate:function(e){var n=e.meshRef;e.delta,e.clock;n.current.position.y=Math.sin(new g.Vector3(15).length(.9)/8+-9e-4*performance.now())}})})]})},C=t(4136),_=t(7399),q=["wave","args","sunColor","waterColor","alpha","heightMapSrc","AO","bumpScale","smokeScale","textureMapSrc","normalMapSrc","metallicMapSrc","edgeMapSrc","map"];(0,f.e)({Water:m.B});var O=function(e){var n=e.wave,t=n.height,o=void 0===t?8:t,a=n.swell,s=void 0===a?9.18:a,c=n.speed,u=void 0===c?9e-4:c,h=(n.offSetTime,e.args),l=void 0===h?[200,200,90,90]:h,d=(e.sunColor,e.waterColor,e.alpha,e.heightMapSrc),m=e.AO,w=(e.bumpScale,e.smokeScale,e.textureMapSrc),x=e.normalMapSrc,D=e.metallicMapSrc,j=e.edgeMapSrc,y=(e.map,(0,v.Z)(e,q)),S=(0,z.TT)(d),b=(0,z.TT)(m),M=(0,z.TT)(w),Z=(0,z.TT)(x),k=(0,z.TT)(D),E=(0,z.TT)(j),A=(0,r.useRef)();return(0,f.A)((function(e,n){e.clock;A&&null!==A&&void 0!==A&&A.current&&function(e,n){for(var t=performance.now()*u,i=A.current.geometry.attributes.position,r=new g.Vector3(0,0,0),o=new g.Vector3,a=0,s=i.count;a<s;a++){o.fromBufferAttribute(i,a),o.sub(r);var c=Math.sin(o.length()/-e+t)*n;i.setZ(a,c)}i.needsUpdate=!0}(o,s)})),(0,p.jsxs)("mesh",(0,i.Z)((0,i.Z)({ref:A,transparent:!0},y),{},{children:[(0,p.jsx)("planeGeometry",{attach:"geometry",args:l,receiveShadow:!0,transparent:!0}),(0,p.jsx)("meshPhongMaterial",{attach:"material",bumpScale:0,map:M,aoMap:b,bumpMap:S,lightMap:E,metalnessMap:k,normalMap:Z,side:g.DoubleSide})]}))};function W(){var e=_.GI,n=(0,l.s0)();return(0,p.jsx)("div",{className:"moon flex h-screen w-screen flex-col items-center justify-center",children:(0,p.jsx)(r.Suspense,{fallback:(0,p.jsx)(o.a,{}),children:(0,p.jsxs)(c.Xz,{performance:{min:.5},flat:!0,linear:!0,shadows:!0,children:[(0,p.jsx)(a.c,{makeDefault:!0,fov:75,far:1e3,near:.01,position:[0,(0,u.Dh)(5),(0,u.Dh)(15)],aspect:window.innerWidth/window.innerHeight}),(0,p.jsx)("ambientLight",{color:"white",intensity:.25}),(0,p.jsx)("directionalLight",{intensity:.5,position:[-(0,u.Dh)(2.4),(0,u.Dh)(3),-(0,u.Dh)(4.73)],color:"#ffb76b",castShadow:!0}),(0,p.jsx)(d.Z,{turbidity:.1}),(0,p.jsx)(M,{}),(0,p.jsx)(B,{}),(0,p.jsx)(D,{url:"assets/sound/night_by_the_river.mp3"}),(0,p.jsx)(O,(0,i.Z)((0,i.Z)({position:[0,(0,u.Dh)(.1),0],args:[500,500,90,90],rotation:[(0,u.Dh)(-.5),0,0],wave:{height:8,speed:-9e-4,swell:.9,offSetTime:12},map:"assets/img/water_normal_cell.jpg"},(0,z.b_)("textures/toonWater")),{},{castShadow:!0})),(0,p.jsx)("group",{position:[(0,u.Dh)(3),(0,u.Dh)(10),(0,u.Dh)(-15)],onClick:function(){(0,u.sj)(n(e[1].route))},children:(0,p.jsx)(C.Z,{textstring:"<-Back",fontSize:10,fontHeight:.3,position:[0,0,0],hover:"#ff99cc"})}),(0,p.jsx)(s.z,{minPolarAngle:(0,u.Dh)(.24),maxPolarAngle:(0,u.Dh)(.4),maxAzimuthAngle:(0,u.Dh)(.5),minAzimuthAngle:(0,u.Dh)(-.5),maxDistance:(0,u.Dh)(20),minDistance:(0,u.Dh)(12),enablePan:!1}),(0,p.jsxs)(h.xC,{children:[(0,p.jsx)(h.y8,{focusDistance:0,focalLength:300,bokehScale:7.5,height:1}),(0,p.jsx)(h.dp,{luminanceThreshold:40,luminanceSmoothing:9,height:30}),(0,p.jsx)(h.cy,{opacity:.05}),(0,p.jsx)(h.sY,{eskil:!0,offset:0,darkness:1.1})]})]})})})}},1453:function(e,n,t){t.d(n,{Z:function(){return d}});var i=t(9439),r=t(4671),o=t(7760),a=t(2703),s=t(9335),c=t(7105),u=t(2791),h=t(6944),l=t(184);function d(e){var n=e.inclination,t=void 0===n?.2:n,d=e.azimuth,f=void 0===d?.2:d,m=e.mieCoefficient,p=void 0===m?0:m,v=e.mieDirectionalG,g=void 0===v?.6:v,w=e.rayleigh,x=void 0===w?0:w,D=e.turbidity,j=void 0===D?1:D,y=(0,u.useState)({lightsOn:!1}),S=(0,i.Z)(y,2),b=S[0],M=(S[1],(0,u.useRef)()),Z=(0,s.q_)({position:b.lightsOn?[0,(0,a.Dh)(0),(0,a.Dh)(0)]:[0,(0,a.Dh)(0),0],opacity:b.lightsOn?0:.2}),k=b.lightsOn?new o.Vector3(0,.5,-90):new o.Vector3(0,.005,-.1);return(0,h.A)((function(e,n){M.current&&c.Ui.damp3(M.current.material.uniforms.sunPosition,k,.25,n)})),(0,l.jsx)(s.q.group,{position:Z.position,children:(0,l.jsx)(r.q,{ref:M,distance:window.innerWidth,sunPosition:k,inclination:t,azimuth:f,mieCoefficient:p,mieDirectionalG:g,rayleigh:x,turbidity:j})})}}}]);
//# sourceMappingURL=696.00152bde.chunk.js.map