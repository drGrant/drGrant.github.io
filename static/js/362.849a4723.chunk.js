"use strict";(self.webpackChunkprotfolio=self.webpackChunkprotfolio||[]).push([[362],{9583:function(e,n,a){a.d(n,{Z:function(){return o}});var t=a(1413),r=a(5987),i=a(184),s=["children"];function o(e){var n=e.children,a=(0,r.Z)(e,s);return(0,i.jsx)("button",(0,t.Z)((0,t.Z)({className:"btn_glass_purple_parent"},a),{},{children:(0,i.jsx)("span",{className:"btn_glass_purple gradient_purple_text",children:n})}))}},6865:function(e,n,a){a.d(n,{TT:function(){return u.Z},b_:function(){return s.Z},G6:function(){return d},Kr:function(){return i},mY:function(){return o},aB:function(){return l.Z},vO:function(){return c}});var t=a(9439),r=a(2791),i=function(e){var n=(0,r.useState)(!1),a=(0,t.Z)(n,2),i=a[0],s=a[1],o=function(n){n.key===e&&s(!0)},l=function(n){n.key===e&&s(!1)};return(0,r.useEffect)((function(){return window.addEventListener("keydown",o),window.addEventListener("keyup",l),function(){window.removeEventListener("keydown",o),window.removeEventListener("keyup",l)}}),[]),i},s=a(3653);function o(){var e=(0,r.useState)({x:0,y:0}),n=(0,t.Z)(e,2),a=n[0],i=n[1],s=function(e){i({x:e.clientX,y:e.clientY})};return(0,r.useEffect)((function(){return window.addEventListener("mousemove",s),function(){window.removeEventListener("mousemove",s)}}),[]),a}var l=a(4054),c=function(e){var n=function(n){return e(n)};(0,r.useEffect)((function(){return window.addEventListener("wheel",n),function(){window.removeEventListener("wheel",n)}}))},u=a(9917),v=a(6944),p=a(7760);function d(e){var n=(0,r.useMemo)((function(){return new p.Raycaster}),[]),a=(0,r.useMemo)((function(){return new p.Vector3}),[]),t=(0,r.useMemo)((function(){return new p.Vector3}),[]),i=(0,v.z)((function(e){return e.scene}));return function(){return e.current?(n.set(e.current.getWorldPosition(a),e.current.getWorldDirection(t)),n.intersectObjects(i.children)):[]}}},4054:function(e,n,a){a.d(n,{Z:function(){return i}});var t=a(9439),r=a(2791);function i(){var e=(0,r.useState)({width:window.innerWidth,height:window.innerHeight}),n=(0,t.Z)(e,2),a=n[0],i=n[1],s=function(){i({width:window.innerWidth,height:window.innerHeight})};return(0,r.useEffect)((function(){return window.addEventListener("resize",s),function(){window.removeEventListener("resize",s)}}),[]),a}},2362:function(e,n,a){a.r(n),a.d(n,{default:function(){return Y}});var t=a(2791),r=a(2703),i=a(2270),s=a(8443),o=a(6865),l=a(8014),c=a(184);function u(){var e=(0,s.R)(i.Z),n=e.spaceInvasion.width,a=(0,t.useRef)(),u=(0,t.useRef)(1),v=(0,t.useRef)(100),p=(0,r.eV)(e.spaceInvasion.gridSize),d=(0,o.Kr)("ArrowLeft"),f=(0,o.Kr)("ArrowRight"),h=(0,o.Kr)("ArrowUp"),m=(0,t.useCallback)((function(){e.spaceInvasion.aliens.length>0?i.Z.spaceInvasion.status=!1:i.Z.spaceInvasion.status=!0,i.Z.spaceInvasion.gameOver=!0}),[e]);(0,t.useMemo)((function(){e.spaceInvasion.pause||(d&&e.spaceInvasion.player%n!==0&&(i.Z.spaceInvasion.player=e.spaceInvasion.player-1),f&&e.spaceInvasion.player%n<n-1&&(i.Z.spaceInvasion.player=e.spaceInvasion.player+1),h&&i.Z.spaceInvasion.shots.push(e.spaceInvasion.player))}),[d,f,h]);var g=(0,t.useCallback)((function(){var a=e.spaceInvasion.aliens[0]%n===0,t=e.spaceInvasion.aliens[e.spaceInvasion.aliens.length-1]%n===n-1;if(!e.spaceInvasion.pause){0===e.spaceInvasion.aliens.length&&m();for(var r=0;r<e.spaceInvasion.aliens.length;r++)if(e.spaceInvasion.aliens[r]>p.length-n)return console.log({i:r},e.spaceInvasion.aliens[r],p.length),void m();if(t&&u.current>0){for(var s=0;s<e.spaceInvasion.aliens.length;s++)i.Z.spaceInvasion.aliens[s]+=n+1;u.current=-1}if(a&&u.current<0){for(var o=0;o<e.spaceInvasion.aliens.length;o++)i.Z.spaceInvasion.aliens[o]+=n-1;u.current=1}for(var l=0;l<e.spaceInvasion.aliens.length;l++)i.Z.spaceInvasion.aliens[l]+=u.current;if(e.spaceInvasion.aliens.includes(e.spaceInvasion.player))return void m()}}),[e,u,p,m,n]),x=(0,t.useCallback)((function(){if(!e.spaceInvasion.pause&&e.spaceInvasion.shots.length>0)for(var a=function(){i.Z.spaceInvasion.shots[t]-=n;var a=e.spaceInvasion.shots[t];(a<-n||isNaN(a))&&(i.Z.spaceInvasion.shots=e.spaceInvasion.shots.filter((function(e){return e>0&&!isNaN(e)&&e}))),e.spaceInvasion.aliens.includes(a)&&(i.Z.spaceInvasion.hits.push(a),i.Z.spaceInvasion.aliens=e.spaceInvasion.aliens.filter((function(e){return e!==a&&e})),i.Z.spaceInvasion.shots=e.spaceInvasion.shots.filter((function(e){return e!==a&&e})))},t=0;t<e.spaceInvasion.shots.length;t++)a()}),[e,n]),w=(0,t.useCallback)((function(){g(),x()}),[g,x]);return(0,t.useEffect)((function(){var n=!0;return!n||e.spaceInvasion.gameOver||e.spaceInvasion.pause||(a.current=setInterval(w,v.current)),function(){n=!1,clearInterval(a.current)}}),[w,v,a,e]),(0,c.jsx)("div",{className:"my-5 w-[300px] flex flex-wrap border-black relative",children:p.map((function(n){return e.spaceInvasion.hits.includes(n)?(0,c.jsx)("div",{className:"inline-flex items-center justify-center w-[20px] h-[20px]",children:(0,c.jsx)("div",{className:"boom w-[10px] h-[10px] text-amber-500 z-20",children:(0,c.jsx)(l.id0,{})})},n):e.spaceInvasion.aliens.includes(e.spaceInvasion.player)?(0,c.jsx)("div",{className:"bg-gray-400 rounded-full w-[20px] h-[20px]"},n):e.spaceInvasion.aliens.includes(n)?(0,c.jsx)("div",{className:"text-purple-600 rounded-full w-[20px] h-[20px]",children:(0,c.jsx)(l.tHO,{})},n):e.spaceInvasion.shots.includes(n)&&e.spaceInvasion.player===n?(0,c.jsxs)("div",{className:"inline-flex items-center justify-center  text-gradO w-[20px] h-[20px] relative",children:[" ",(0,c.jsx)(l.xo8,{}),(0,c.jsx)("div",{className:"rounder-full w-[10px] h-[10px] text-amber-400 rotate-[225deg] absolute bottom-full",children:(0,c.jsx)(l.WxY,{className:"w-full h-full"})})]},n):e.spaceInvasion.shots.includes(n)?(0,c.jsx)("div",{className:"inline-flex items-center justify-center w-[20px] h-[20px]",children:(0,c.jsx)("div",{className:"rounder-full w-[10px] h-[10px] text-amber-500 rotate-[225deg]",children:(0,c.jsx)(l.WxY,{className:"w-full h-full"})})},n):e.spaceInvasion.player===n?(0,c.jsx)("div",{className:"w-[20px] h-[20px] text-gradO",children:(0,c.jsx)(l.xo8,{})},n):(0,c.jsx)("div",{className:"w-[20px] h-[20px] "},n)}))})}var v=a(9583),p=a(828);function d(){var e=(0,s.R)(i.Z);return(0,c.jsxs)("section",{className:"bg-white/5 rounded-xl relative flex",children:[(0,c.jsx)(v.Z,{onClick:function(){e.spaceInvasion.pause||e.spaceInvasion.player%e.spaceInvasion.width!==0&&(i.Z.spaceInvasion.player=e.spaceInvasion.player-1)},children:(0,c.jsx)("span",{className:"mobile_btn",children:(0,c.jsx)(p.Fjg,{className:"mobile_btn_icon"})})}),(0,c.jsx)(v.Z,{onClick:function(){i.Z.spaceInvasion.shots.push(e.spaceInvasion.player)},children:(0,c.jsx)("span",{className:"mobile_btn",children:(0,c.jsx)(l.WxY,{className:"mobile_btn_icon rotate-[225deg]"})})}),(0,c.jsx)(v.Z,{onClick:function(){e.spaceInvasion.pause||e.spaceInvasion.player%e.spaceInvasion.width<e.spaceInvasion.width-1&&(i.Z.spaceInvasion.player=e.spaceInvasion.player+1)},children:(0,c.jsx)("span",{className:"mobile_btn",children:(0,c.jsx)(p.W3E,{className:"mobile_btn_icon"})})})]})}function f(){return(0,c.jsxs)("h1",{className:"text-3xl lg:text-7xl Anuphan text-gradB relative",children:[(0,c.jsxs)("span",{className:"absolute -rotate-12 scale-150 bottom-full right-full translate-x-full",children:[(0,c.jsx)("span",{className:"absolute inline-block -rotate-45 right-full top-5 lg:top-10",children:"Spa"}),"ce"]})," ",(0,c.jsx)("span",{className:"Alfa",children:"Invaders"})]})}var h=a(3433),m=a(7689);function g(){var e=(0,s.R)(i.Z),n=(0,m.s0)();return(0,c.jsxs)("section",{className:"flex gap-2 justify-between w-full",children:[(0,c.jsx)(v.Z,{onClick:function(){i.Z.thought=!e.thought,i.Z.spaceInvasion.pause=!e.spaceInvasion.pause},children:e.spaceInvasion.pause?"Play":"Pause"}),(0,c.jsx)(v.Z,{onClick:function(){i.Z.spaceInvasion.aliens=(0,h.Z)(e.spaceInvasion.aliens_start),i.Z.spaceInvasion.gameOver=!1,i.Z.spaceInvasion.pause=!0,i.Z.spaceInvasion.status=null,i.Z.spaceInvasion.hits=[],i.Z.spaceInvasion.shots=[],i.Z.spaceInvasion.player=i.Z.spaceInvasion.player_start},children:"Restart"}),(0,c.jsx)(v.Z,{className:"btn_glass_purple_parent",onClick:function(){(0,r.sj)(n(-1))},children:"Back"})]})}function x(){return(0,c.jsxs)("div",{className:"space_invaders_container",children:[(0,c.jsx)(f,{}),(0,c.jsx)(g,{}),(0,c.jsx)(u,{}),(0,c.jsx)(d,{})]})}var w=a(1413),I=a(338),y=a(2981),j=a(2330),Z=a(9335),_=a(5892),b=a(7760),M=a(6944),S=a(1329);function C(e){var n=e.children,a=e.position,r=void 0===a?[60,150,100]:a,i=e.resolution,s=void 0===i?1024:i,o=e.intensity,l=void 0===o?1:o,u=e.ambient,v=void 0===u?.5:u,p=e.radius,d=void 0===p?40:p,f=e.blend,m=void 0===f?40:f,g=e.lights,x=void 0===g?10:g,w=(0,t.useRef)(),I=(0,t.useRef)(),y=(0,M.z)((function(e){return e.gl})),j=(0,M.z)((function(e){return e.camera})),Z=(0,t.useMemo)((function(){return(0,h.Z)(Array(x)).map((function(e,n){var a=new b.DirectionalLight(16777215,l/x);return a.castShadow=!0,a.shadow.camera.near=100,a.shadow.camera.far=5e3,a.shadow.camera.right=a.shadow.camera.top=150,a.shadow.camera.left=a.shadow.camera.bottom=-150,a.shadow.mapSize.width=a.shadow.mapSize.height=s/2,a}))}),[l,x,s]);return(0,t.useLayoutEffect)((function(){var e=I.current,n=(0,h.Z)(Z);return w.current.traverse((function(e){return e.isMesh&&n.push(e)})),e.addObjectsToLightMap(n),function(){e.blurringPlane=null,e.lightMapContainers=[],e.compiled=!1,e.scene.clear()}}),[]),(0,M.A)((function(){I.current.update(j,m,!0);for(var e=0;e<Z.length;e++)if(Math.random()>v)Z[e].position.set(r[0]+Math.random()*d,r[1]+Math.random()*d,r[2]+Math.random()*d);else{var n=Math.acos(2*Math.random()-1)-Math.PI/2,a=2*Math.PI*Math.random();Z[e].position.set(Math.cos(n)*Math.cos(a)*300,Math.abs(Math.cos(n)*Math.sin(a)*300),300*Math.sin(n))}})),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("progressiveLightMap",{ref:I,args:[y,s],name:"lightMap"}),(0,c.jsx)("group",{ref:w,name:"lightMapGroup",children:n})]})}(0,M.e)({ProgressiveLightMap:S.n});var N=a(5987),D=a(1008),R=a(9917),k=a(3144),T=a(5671),L=a(136),E=a(9388),A=function(e){(0,L.Z)(a,e);var n=(0,E.Z)(a);function a(e){return(0,T.Z)(this,a),n.call(this,{vertexShader:"varying vec2 vUv;\n      void main() {\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n      }",fragmentShader:"\n      uniform vec3 u_resolution;\n      uniform float u_time;\n\n      #define TAU 6.28318530718\n      #define MAX_ITER 5\n\n      void mainImage( out vec4 fragColor, in vec2 fragCoord ) \n      {\n        float time = u_time * .5+23.0;\n        // uv should be the 0-1 uv of texture...\n      vec2 uv = fragCoord.xy / u_resolution.xy;\n        \n    #ifdef SHOW_TILING\n      vec2 p = mod(uv*TAU*2.0, TAU)-250.0;\n    #else\n        vec2 p = mod(uv*TAU, TAU)-250.0;\n    #endif\n      vec2 i = vec2(p);\n      float c = 1.0;\n      float inten = .005;\n    \n      for (int n = 0; n < MAX_ITER; n++) \n      {\n        float t = time * (1.0 - (3.5 / float(n+1)));\n        i = p + vec2(cos(t - i.x) + sin(t + i.y), sin(t - i.y) + cos(t + i.x));\n        c += 1.0/length(vec2(p.x / (sin(i.x+t)/inten),p.y / (cos(i.y+t)/inten)));\n      }\n      c /= float(MAX_ITER);\n      c = 1.17-pow(c, 1.4);\n      vec3 colour = vec3(pow(abs(c), 8.0));\n        colour = clamp(colour + vec3(0.0, 0.35, 0.5), 0.0, 1.0);\n    \n      #ifdef SHOW_TILING\n      // Flash tile borders...\n      vec2 pixel = 2.0 / u_resolution.xy;\n      uv *= 2.0;\n      float f = floor(mod(u_time*.5, 2.0)); \t// Flash value.\n      vec2 first = step(pixel, uv) * f;\t\t   \t// Rule out first screen pixels and flash.\n      uv  = step(fract(uv), pixel);\t\t\t\t// Add one line of pixels per tile.\n      colour = mix(colour, vec3(1.0, 1.0, 0.0), (uv.x + uv.y) * first.x * first.y); // Yellow line\n      #endif\n        \n      fragColor = vec4(colour, 1.0);\n      }\n    varying vec2 vUv;\n            void main() {\n                mainImage(gl_FragColor, vUv * u_resolution.xy);\n              }\n    \n        ",uniforms:{iChannel0:{value:e},u_time:{type:"f",value:.05},u_speed:{type:"f",value:performance.now()},u_mouse:{type:"f",value:{x:0,y:0}},u_resolution:{type:"v2",value:new b.Vector2(window.innerWidth,window.innerWidth)}},transparent:!0,blending:b.NormalBlending,depthWrite:!1})}return(0,k.Z)(a)}(b.ShaderMaterial);(0,M.e)({RainMaterial:A});a(846);var W=function(e){(0,L.Z)(a,e);var n=(0,E.Z)(a);function a(e){return(0,T.Z)(this,a),n.call(this,{vertexShader:"varying vec2 vUv;\n      void main() {\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n      }",fragmentShader:"#include <common>\n\n      uniform vec3 u_resolution;\n      uniform float u_time;\n      uniform sampler2D iChannel0;\n    \n      // By Daedelus: https://www.shadertoy.com/user/Daedelus\n      // license: Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n      #define TIMESCALE 0.25 \n      #define TILES 8\n      #define COLOR 0.7, 1.6, 2.8\n    \n      void mainImage( out vec4 fragColor, in vec2 fragCoord )\n      {\n        float aspect = u_resolution.y/u_resolution.x;\n    float value;\n\tvec2 uv = fragCoord.xy / u_resolution.x;\n    uv -= vec2(0.5, 0.5*aspect);\n    float rot = radians(45.0); // radians(45.0*sin(u_time));\n    mat2 m = mat2(cos(rot), -sin(rot), sin(rot), cos(rot));\n   \tuv  = m * uv;\n    uv += vec2(0.5, 0.5*aspect);\n    uv.y+=0.5*(1.0-aspect);\n    vec2 pos = 10.0*uv;\n    vec2 rep = fract(pos);\n    float dist = 2.0*min(min(rep.x, 1.0-rep.x), min(rep.y, 1.0-rep.y));\n    float squareDist = length((floor(pos)+vec2(0.5)) - vec2(5.0) );\n    \n    float edge = sin(u_time-squareDist*0.5)*0.5+0.5;\n    \n    edge = (u_time-squareDist*0.5)*0.5;\n    edge = 2.0*fract(edge*0.5);\n    //value = 2.0*abs(dist-0.5);\n    //value = pow(dist, 2.0);\n    value = fract (dist*2.0);\n    value = mix(value, 1.0-value, step(1.0, edge));\n    //value *= 1.0-0.5*edge;\n    edge = pow(abs(1.0-edge), 2.0);\n    \n    //edge = abs(1.0-edge);\n    value = smoothstep( edge-0.05, edge, 0.95*value);\n    \n    \n    value += squareDist*.1;\n    //fragColor = vec4(value);\n    fragColor = mix(vec4(1.0,1.0,1.0,1.0),vec4(1.0,0.25,0.25,1.0), value);\n    fragColor.a = 0.25*clamp(value, 0.0, 1.0);\n      }\n    \n      varying vec2 vUv;\n    \n      void main() {\n        mainImage(gl_FragColor, vUv * u_resolution.xy);\n      }\n      ",uniforms:{iChannel0:{value:e},u_time:{type:"f",value:.05},u_speed:{type:"f",value:performance.now()},u_mouse:{type:"f",value:{x:0,y:0}},u_resolution:{type:"v2",value:new b.Vector2(window.innerWidth,window.innerWidth)}},transparent:!0,blending:b.NormalBlending,depthWrite:!1})}return(0,k.Z)(a)}(b.ShaderMaterial);(0,M.e)({SquarePatternShaderMaterial:W});var O=a(6644),U=function(e){(0,L.Z)(a,e);var n=(0,E.Z)(a);function a(e){return(0,T.Z)(this,a),n.call(this,(0,w.Z)((0,w.Z)({},O.x),{},{uniforms:{iChannel0:{value:e},iChannel1:{value:e},u_time:{type:"f",value:.05},u_speed:{type:"f",value:performance.now()},u_mouse:{type:"f",value:{x:0,y:0}},u_resolution:{type:"v2",value:new b.Vector2(window.innerWidth,window.innerWidth)}},transparent:!0,blending:b.NormalBlending,depthWrite:!1}))}return(0,k.Z)(a)}(b.ShaderMaterial);(0,M.e)({CloudShaderMaterial:U});var B=["animate"],q="/assets/obj/ufo.gltf?".concat(100*Math.random());function P(e){var n=e.animate,a=(0,N.Z)(e,B),r=(0,t.useRef)(),i=[(0,t.useRef)()],s=[(0,t.useRef)(),(0,t.useRef)(),(0,t.useRef)(),(0,t.useRef)()],o=(0,D.L)(q).nodes,l=(0,R.Z)("/assets/img/c_space.jpg"),u=function(e){var a=e.meshRef;return(0,M.A)((function(e,t){var r=e.clock;null!==a&&void 0!==a&&a.current&&n({meshRef:a,clock:r,delta:t}),s.length>0&&s.forEach((function(e){return e.current&&(e.current.uniforms.u_time.value=r.elapsedTime)})),i.length>0&&i.forEach((function(e){e.current&&(e.current.rotation.y-=.01351)}))})),null};return(0,c.jsxs)("group",(0,w.Z)((0,w.Z)({ref:r},a),{},{dispose:null,children:[n&&(0,c.jsx)(u,{meshRef:r}),(0,c.jsx)("mesh",{name:"dome",castShadow:!0,receiveShadow:!0,geometry:o.dome.geometry,material:o.dome.material,children:(0,c.jsx)("rainMaterial",{ref:s[0],texture:l,attach:"material"})}),(0,c.jsx)("mesh",{name:"rings",castShadow:!0,receiveShadow:!0,geometry:o.ring.geometry,material:o.ring.material,children:(0,c.jsx)("squareShaderMaterial",{ref:s[1],texture:l,attach:"material"})}),(0,c.jsx)("mesh",{name:"lights",ref:i[0],castShadow:!0,receiveShadow:!0,geometry:o.lights.geometry,material:o.lights.material,children:(0,c.jsx)("rainMaterial",{ref:s[2],texture:l,attach:"material"})}),(0,c.jsx)("mesh",{name:"base",castShadow:!0,receiveShadow:!0,geometry:o.base.geometry,material:o.base.material,children:(0,c.jsx)("squareShaderMaterial",{ref:s[3],texture:l,attach:"material"})})]}))}D.L.preload(q);var z=a(6008),F=a(4136),H=a(515);function V(e){var n=e.children,a=(0,s.R)(i.Z),l=(0,o.aB)().width,u=(0,t.useMemo)((function(){return l>"1440"}),[l]),v=(0,Z.q_)({won:a.spaceInvasion.status&&a.spaceInvasion.gameOver?[(0,r.Dh)(-1.5),(0,r.Dh)(.5),0]:[-(0,r.Dh)(.5),(0,r.Dh)(10),(0,r.Dh)(1)],lost:!a.spaceInvasion.status&&a.spaceInvasion.gameOver?[(0,r.Dh)(-1.5),(0,r.Dh)(.5),0]:[-(0,r.Dh)(.5),-(0,r.Dh)(10),(0,r.Dh)(1)],ufo:u?[-(0,r.Dh)(2),(0,r.Dh)(.05),(0,r.Dh)(-0)]:[-(0,r.Dh)(0),-(0,r.Dh)(0),(0,r.Dh)(0)]}),p={fontSize:u?1:.2,fontHeight:u?.3:.1,position:u?[(0,r.Dh)(3),0,(0,r.Dh)(-2.8)]:[(0,r.Dh)(1.2),(0,r.Dh)(.4),0],rotation:u?[(0,r.Dh)(0),(0,r.Dh)(-.4),0]:[0,0,0],color:"#fff"};return(0,t.useMemo)((function(){return console.log("damage",a.spaceInvasion.BulletsHit)}),[a]),(0,t.useMemo)((function(){return console.log("remove bullet",a.spaceInvasion.Bullets)}),[a]),(0,c.jsxs)(t.Suspense,{fallback:(0,c.jsx)(I.a,{}),children:[(0,c.jsxs)(_.Xz,{className:"relative z-20 moon",performance:{min:.5},onCreated:function(e){var n=e.gl;n.toneMapping=b.CineonToneMapping,n.setClearColor(new b.Color("#020207"))},dpr:[1,1.5],gl:{alpha:!0},flat:!0,linear:!0,shadows:!0,children:[(0,c.jsx)("fog",{color:"lightgray",attach:"fog",near:4,far:800,name:"fog"}),(0,c.jsxs)(C,(0,w.Z)((0,w.Z)({},{intensity:5,ambient:3,radius:0,blend:200}),{},{children:[(0,c.jsx)(y.t,{name:"stars",depth:200}),(0,c.jsxs)(Z.q.group,{name:"ufoContainer",position:v.ufo,onPointerUp:function(e){var n;i.Z.spaceInvasion.Bullets=[].concat((0,h.Z)(a.spaceInvasion.Bullets),[{bulletName:"shot_".concat(a.spaceInvasion.Bullets.length,"_").concat(Math.random()),startPoint:null===e||void 0===e||null===(n=e.ray)||void 0===n?void 0:n.direction}])},children:[(0,c.jsx)(P,{name:"invader",position:[0,0,0],rotation:[(0,r.Dh)(-.3),(0,r.Dh)(0),(0,r.Dh)(0)],animate:function(e){var n=e.meshRef;e.clock,e.delta;n.current.rotation.y+=.01351,n.current.rotation.x=.1*Math.sin(45e-5*performance.now()),n.current.rotation.z=.1*Math.cos(45e-5*performance.now())}}),a.spaceInvasion.Bullets.length>0&&a.spaceInvasion.Bullets.filter((function(e,n){return console.log(e),a.spaceInvasion.BulletsHit.filter((function(n){return n.bulletName===e.bulletName&&n})).length<=0&&e})).map((function(e,n){return(0,c.jsxs)(H.Z,{name:e.bulletName,animate:function(e){var n=e.meshRef,t=e.clock,r=(e.delta,e.raycast);n.current.material.uniforms.u_time.value=t.elapsedTime,n.current.position.z-=.2,n.current.position.y+=.075,n.current.position.x+=.005;var s=r();s&&((0,h.Z)(s.filter((function(e){var a=e.object;return"earth"===a.name||a.name===n.current.name}))).length>0&&(console.log({raycast:r}),i.Z.spaceInvasion.BulletsHit=[].concat((0,h.Z)(a.spaceInvasion.BulletsHit),[{bulletName:n.current.name}])))},position:e.startPoint,on:!0,children:[(0,c.jsx)("sphereGeometry",{args:[.5,.5,32],attach:"geometry"}),(0,c.jsx)("squareShaderMaterial",{attach:"material"})]},n)}))]}),(0,c.jsx)(z.Z,(0,w.Z)((0,w.Z)({name:"earth",bumpScale:.3,args:[15,15,96],position:[0,(0,r.Dh)(8),(0,r.Dh)(-30)]},(0,o.b_)("textures/earth")),{},{animate:function(e){var n=e.meshRef,a=(e.delta,e.clock);e.raycast;null!==n&&void 0!==n&&n.current&&n.current.rotation.set(0,(0,r.Dh)(a.oldTime/9e4),0)}})),a.spaceInvasion.status&&a.spaceInvasion.gameOver&&(0,c.jsx)(Z.q.group,{position:v.won,children:(0,c.jsx)(F.Z,(0,w.Z)({textstring:"You Won"},p))}),!a.spaceInvasion.status&&a.spaceInvasion.gameOver&&(0,c.jsx)(Z.q.group,{position:v.lost,children:(0,c.jsx)(F.Z,(0,w.Z)({textstring:"You Lose"},p))}),!a.thought&&(0,c.jsx)(j.i,{maxYaw:.01,maxPitch:.1,maxRoll:.1,yawFrequency:.05,pitchFrequency:.05,rollFrequency:.04})]}))]}),n]})}function Y(){return(0,c.jsx)("div",{className:"moon bg-white fixed flex items-center justify-center w-screen h-screen top-0 left-0 z-20",children:(0,c.jsx)(V,{children:(0,c.jsx)(x,{})})})}},846:function(e,n,a){var t=a(3144),r=a(5671),i=a(136),s=a(9388),o=a(7760),l=a(6944),c=function(e){(0,i.Z)(a,e);var n=(0,s.Z)(a);function a(e){return(0,r.Z)(this,a),n.call(this,{vertexShader:"varying vec2 vUv;\n      void main() {\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n      }",fragmentShader:"#include <common>\n\n      uniform vec3 u_resolution;\n      uniform float u_time;\n      uniform sampler2D iChannel0;\n    \n      // By Daedelus: https://www.shadertoy.com/user/Daedelus\n      // license: Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n      #define TIMESCALE 0.25 \n      #define TILES 8\n      #define COLOR 0.7, 1.6, 2.8\n    \n      void mainImage( out vec4 fragColor, in vec2 fragCoord )\n      {\n        float aspect_ratio = u_resolution.y/u_resolution.x;\n        vec2 uv = fragCoord.xy / u_resolution.x;\n        uv -= vec2(0.5, 0.5 * aspect_ratio);\n        float rot = radians(-30. -u_time); // radians(45.0*sin(u_time));\n        mat2 rotation_matrix = mat2(cos(rot), -sin(rot), sin(rot), cos(rot));\n        uv = rotation_matrix * uv;\n        vec2 scaled_uv = 20.0 * uv; \n        vec2 tile = fract(scaled_uv);\n        float tile_dist = min(min(tile.x, 1.0-tile.x), min(tile.y, 1.0-tile.y));\n        float square_dist = length(floor(scaled_uv));\n        \n        float edge = sin(u_time-square_dist*20.);\n        edge = mod(edge * edge, edge / edge);\n\n        float value = mix(tile_dist, 1.0-tile_dist, step(1.0, edge));\n        edge = pow(abs(1.0-edge), 2.2) * 0.5;\n        \n        value = smoothstep( edge-0.05, edge, 0.95*value);\n        \n        \n        value += square_dist*.1;\n        value *= 0.8 - 0.2;\n        fragColor = vec4(pow(value, 2.), pow(value, 1.5), pow(value, 1.2), 1.);\n      }\n    \n      varying vec2 vUv;\n    \n      void main() {\n        mainImage(gl_FragColor, vUv * u_resolution.xy);\n      }\n      ",uniforms:{iChannel0:{value:e},u_time:{type:"f",value:.05},u_speed:{type:"f",value:performance.now()},u_mouse:{type:"f",value:{x:0,y:0}},u_resolution:{type:"v2",value:new o.Vector2(window.innerWidth,window.innerWidth)}},transparent:!0,blending:o.NormalBlending,depthWrite:!1})}return(0,t.Z)(a)}(o.ShaderMaterial);(0,l.e)({SquareShaderMaterial:c})},515:function(e,n,a){a.d(n,{Z:function(){return u}});var t=a(1413),r=a(5987),i=a(2791),s=a(6944),o=a(6865),l=a(184),c=["animate","children"];function u(e){var n=e.animate,a=e.children,u=(0,r.Z)(e,c),v=(0,i.useRef)(),p=(0,o.G6)(v),d=function(e){var a=e.meshRef;return(0,s.A)((function(e,t){var r=e.clock;(null===a||void 0===a?void 0:a.current)&&n({meshRef:a,clock:r,delta:t,raycast:p})})),null};return(0,l.jsxs)("mesh",(0,t.Z)((0,t.Z)({ref:v,transparent:!0},u),{},{children:[v&&n&&(0,l.jsx)(d,{meshRef:v}),a]}))}},6008:function(e,n,a){var t=a(1413),r=a(5987),i=a(2791),s=a(6944),o=a(7760),l=a(6865),c=a(184),u=["heightMapSrc","AO","bumpScale","smokeScale","textureMapSrc","normalMapSrc","smoothMapSrc","metallicMapSrc","edgeMapSrc","args","animate"];n.Z=function(e){var n=e.heightMapSrc,a=e.AO,v=e.bumpScale,p=(e.smokeScale,e.textureMapSrc),d=e.normalMapSrc,f=(e.smoothMapSrc,e.metallicMapSrc),h=e.edgeMapSrc,m=e.args,g=e.animate,x=(0,r.Z)(e,u),w=(0,l.TT)(n),I=(0,l.TT)(a),y=(0,l.TT)(p),j=(0,l.TT)(d),Z=(0,l.TT)(f),_=(0,l.TT)(h),b=(0,i.useRef)(),M=(0,l.G6)(b),S=function(e){var n=e.meshRef;(0,s.A)((function(e,a){var t=e.clock;g({meshRef:n,clock:t,delta:a,raycast:M})}))};return(0,c.jsxs)("mesh",(0,t.Z)((0,t.Z)({transparent:!0},x),{},{ref:b,children:[g&&(0,c.jsx)(S,{meshRef:b}),(0,c.jsx)("sphereGeometry",{attach:"geometry",args:m,receiveShadow:!0,transparent:!0}),(0,c.jsx)("meshPhongMaterial",{bumpScale:v,attach:"material",map:y,aoMap:I,bumpMap:w,lightMap:_,metalnessMap:Z,normalMap:j,side:o.DoubleSide})]}))}}}]);
//# sourceMappingURL=362.849a4723.chunk.js.map