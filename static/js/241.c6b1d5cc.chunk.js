"use strict";(self.webpackChunkprotfolio=self.webpackChunkprotfolio||[]).push([[241],{3241:function(e,t,n){n.r(t),n.d(t,{default:function(){return P}});var i=n(1413),r=n(2791),a=n(338),o=n(976),s=n(3520),c=n(5892),h=n(2703),l=n(6519),u=n(7689),m=n(1453),d=n(6944),f=n(1190),p=n(184);(0,d.e)({Water:f.B});var g=n(5987),D=n(7760),x=n(4358),v=["url","y","space","width","height","obj"];function j(e){var t=e.url,n=e.y,a=void 0===n?2500:n,o=e.space,s=void 0===o?1.8:o,c=e.width,l=void 0===c?.01:c,u=e.height,m=void 0===u?.05:u,f=e.obj,j=void 0===f?new D.Object3D:f,w=(0,g.Z)(e,v),Z=(0,r.useRef)(),S=(0,x.Rq)((function(){return(0,h.K$)(t)}),[t]),b=S.gain,M=S.context,y=S.update,k=S.data;return(0,r.useEffect)((function(){return b.connect(M.destination),function(){return b.disconnect()}}),[b,M]),(0,d.A)((function(e){for(var t=y(),n=0;n<k.length;n++)j.position.set(n*l*s-k.length*l*s/2,k[n]/a,0),j.updateMatrix(),Z.current.setMatrixAt(n,j.matrix);Z.current.material.color.setHSL(t/500,.75,.75),Z.current.instanceMatrix.needsUpdate=!0})),(0,p.jsxs)("instancedMesh",(0,i.Z)((0,i.Z)({castShadow:!0,ref:Z,args:[null,null,k.length]},w),{},{children:[(0,p.jsx)("planeGeometry",{args:[l,m]}),(0,p.jsx)("meshBasicMaterial",{toneMapped:!1})]}))}var w=n(9917),Z=["args"],S=function(e){var t=e.args,n=void 0===t?[500,500]:t,a=(0,g.Z)(e,Z),o=(0,w.Z)("assets/img/smoke-1.png"),s=(0,r.useRef)(),c=9e-4*Math.random();return(0,d.A)((function(e,t){e.clock;s.current.position.z-=Math.sin(2e-4*performance.now()*c),s.current.position.x-=Math.sin(2e-4*performance.now()*c)})),(0,p.jsxs)("mesh",(0,i.Z)((0,i.Z)({ref:s,transparent:!0},a),{},{children:[(0,p.jsx)("planeGeometry",{attach:"geometry",args:n,receiveShadow:!0,transparent:!0}),(0,p.jsx)("meshLambertMaterial",{attach:"material",map:o,opacity:.6,transparent:!0,side:D.DoubleSide})]}))},b=["args"],M=function(e){e.args;var t=(0,g.Z)(e,b);(0,r.useRef)();return(0,d.A)((function(e,t){e.clock})),(0,p.jsx)("group",(0,i.Z)((0,i.Z)({},t),{},{children:Array(25).fill(null).map((function(e,t){return(0,p.jsx)(S,{args:[100,100,32],position:[800*Math.random()-400,(0,h.Dh)(45),500*Math.random()-450],rotation:[(0,h.Dh)(-.65),(0,h.Dh)(0),360*Math.random()]},t)}))}))},y=n(3433),k=n(9439),A=n(9335),R=n(4294),B=n(6668),C=["src","animate"],q=function(e){var t=e.src,n=e.animate,a=(0,g.Z)(e,C),o=(0,r.useRef)(),s=function(e){var t=e.meshRef;return(0,d.A)((function(e,i){var r=e.clock;n({meshRef:t,clock:r,delta:i})})),null},c=(0,d.D)(B.E,t);return(0,p.jsxs)("group",(0,i.Z)((0,i.Z)({ref:o},a),{},{children:[(0,p.jsx)("primitive",{object:c.scene}),n&&(0,p.jsx)(s,{meshRef:o})]}))},z=n(3653),E=(n(4054),function(e){var t=function(t){return e(t)};(0,r.useEffect)((function(){return window.addEventListener("wheel",t),function(){window.removeEventListener("wheel",t)}}))}),_=function(){var e,t=(0,r.useState)({speed:.095,maxDistance:900,resetDistance:500,active:!1,width:window.innerWidth,height:window.innerHeight,loaded:!0}),n=(0,k.Z)(t,2),a=n[0],o=n[1],s=(0,A.q_)({scale:a.active?1.5:1,lightEmission:a.active?1.5:0,fireFlies:a.active?[-(0,h.Dh)(.5),-(0,h.Dh)(10),(0,h.Dh)(1)]:[-(0,h.Dh)(.5),0,(0,h.Dh)(1)]}),c=(0,r.useRef)({increaser:0,limit:2,triger:1});return E((function(e){null!==c&&void 0!==c&&c.current&&e.wheelDelta>0?c.current.increaser++:c.current.increaser--,c.current.increaser>c.current.limit&&(c.current.increaser=c.current.limit),c.current.increaser<-c.current.limit&&(c.current.increaser=-c.current.limit),c.current.increaser>c.current.triger&&!a.active&&o((function(e){return(0,i.Z)((0,i.Z)({},e),{},{active:!e.active})})),c.current.increaser<-c.current.triger&&a.active&&o((function(e){return(0,i.Z)((0,i.Z)({},e),{},{active:!e.active})}))})),(0,p.jsxs)("group",{children:[(0,p.jsxs)("group",{name:"house on the lake",position:[(0,h.Dh)(0),-(0,h.Dh)(.1),(0,h.Dh)(0)],children:[(0,p.jsx)(A.q.group,{position:s.fireFlies,children:(0,p.jsx)(R.P,{count:500,scale:[30,10,20],size:5,speed:Math.sin(performance.now()*(200*Math.random())-1)})}),(0,p.jsxs)(A.q.group,{name:"lamp_light",onClick:function(){o((function(e){return(0,i.Z)((0,i.Z)({},e),{},{active:!e.active})}))},children:[(0,p.jsx)(A.q.pointLight,{intensity:s.lightEmission,position:[-(0,h.Dh)(2.4),(0,h.Dh)(3),(0,h.Dh)(4.73)],color:"#FFB76B",castShadow:!0}),(0,p.jsxs)("mesh",{position:[-(0,h.Dh)(2.4),(0,h.Dh)(3),(0,h.Dh)(4.73)],children:[(0,p.jsx)("boxGeometry",{attach:"geometry",args:[(0,h.Dh)(.75),(0,h.Dh)(.1),(0,h.Dh)(.75)],rotation:[(0,h.Dh)(.95),(0,h.Dh)(0),(0,h.Dh)(0)]}),(0,p.jsx)(A.q.meshStandardMaterial,{attach:"material",emissiveIntensity:s.lightEmission,side:D.DoubleSide,emissive:"#FFB76B",color:"#22bad6",castShadow:!0})]}),(0,p.jsxs)("mesh",{position:[-(0,h.Dh)(2.4),(0,h.Dh)(2.75),(0,h.Dh)(4.725)],children:[(0,p.jsx)("boxGeometry",{attach:"geometry",args:[(0,h.Dh)(.65),(0,h.Dh)(.1),(0,h.Dh)(.65)],rotation:[(0,h.Dh)(.95),(0,h.Dh)(0),(0,h.Dh)(0)]}),(0,p.jsx)(A.q.meshStandardMaterial,{attach:"material",emissiveIntensity:s.lightEmission,side:D.DoubleSide,emissive:"#FFB76B",color:"#22bad6"})]})]}),(0,p.jsx)(q,{src:"/assets/obj/casa.gltf",position:[0,0,0],rotation:[0,-(0,h.Dh)(2.5),0]})]}),(0,p.jsx)("group",{name:"wooden boat at the peer",position:[0,(0,h.Dh)(.19),(0,h.Dh)(10.1)],children:(0,p.jsx)(q,{src:"/assets/obj/wood_boat.gltf",scale:(0,y.Z)((e=(0,h.Dh)(2),Array(3).fill(e))),rotation:[0,(0,h.Dh)(2),0],animate:function(e){var t=e.meshRef;e.delta,e.clock;t.current.position.y=Math.sin(new D.Vector3(15).length(.9)/8+-9e-4*performance.now())}})})]})},F=n(4136),G=n(7399),L=["wave","args","sunColor","waterColor","alpha","heightMapSrc","AO","bumpScale","smokeScale","textureMapSrc","normalMapSrc","metallicMapSrc","edgeMapSrc","map"];(0,d.e)({Water:f.B});var O=function(e){var t=e.wave,n=t.height,a=void 0===n?8:n,o=t.swell,s=void 0===o?9.18:o,c=t.speed,h=void 0===c?9e-4:c,l=(t.offSetTime,e.args),u=void 0===l?[200,200,90,90]:l,m=(e.sunColor,e.waterColor,e.alpha,e.heightMapSrc),f=e.AO,x=(e.bumpScale,e.smokeScale,e.textureMapSrc),v=e.normalMapSrc,j=e.metallicMapSrc,Z=e.edgeMapSrc,S=(e.map,(0,g.Z)(e,L)),b=(0,w.Z)(m),M=(0,w.Z)(f),y=(0,w.Z)(x),k=(0,w.Z)(v),A=(0,w.Z)(j),R=(0,w.Z)(Z),B=(0,r.useRef)();return(0,d.A)((function(e,t){e.clock;B&&null!==B&&void 0!==B&&B.current&&function(e,t){for(var n=performance.now()*h,i=B.current.geometry.attributes.position,r=new D.Vector3(0,0,0),a=new D.Vector3,o=0,s=i.count;o<s;o++){a.fromBufferAttribute(i,o),a.sub(r);var c=Math.sin(a.length()/-e+n)*t;i.setZ(o,c)}i.needsUpdate=!0}(a,s)})),(0,p.jsxs)("mesh",(0,i.Z)((0,i.Z)({ref:B,transparent:!0},S),{},{children:[(0,p.jsx)("planeGeometry",{attach:"geometry",args:u,receiveShadow:!0,transparent:!0}),(0,p.jsx)("meshPhongMaterial",{attach:"material",bumpScale:0,map:y,aoMap:M,bumpMap:b,lightMap:R,metalnessMap:A,normalMap:k,side:D.DoubleSide})]}))};function P(){var e=G.GI,t=(0,u.s0)();return(0,p.jsx)("div",{className:"moon flex h-screen w-screen flex-col items-center justify-center",children:(0,p.jsx)(r.Suspense,{fallback:(0,p.jsx)(a.a,{}),children:(0,p.jsxs)(c.Xz,{performance:{min:.5},flat:!0,linear:!0,shadows:!0,children:[(0,p.jsx)(o.c,{makeDefault:!0,fov:75,far:1e3,near:.01,position:[0,(0,h.Dh)(5),(0,h.Dh)(15)],aspect:window.innerWidth/window.innerHeight}),(0,p.jsx)("ambientLight",{color:"white",intensity:.25}),(0,p.jsx)("directionalLight",{intensity:.5,position:[-(0,h.Dh)(2.4),(0,h.Dh)(3),-(0,h.Dh)(4.73)],color:"#ffb76b",castShadow:!0}),(0,p.jsx)(m.Z,{turbidity:.1}),(0,p.jsx)(M,{}),(0,p.jsx)(_,{}),(0,p.jsx)(j,{url:"assets/sound/night_by_the_river.mp3"}),(0,p.jsx)(O,(0,i.Z)((0,i.Z)({position:[0,(0,h.Dh)(.1),0],args:[500,500,90,90],rotation:[(0,h.Dh)(-.5),0,0],wave:{height:8,speed:-9e-4,swell:.9,offSetTime:12},map:"assets/img/water_normal_cell.jpg"},(0,z.Z)("textures/toonWater")),{},{castShadow:!0})),(0,p.jsx)("group",{position:[(0,h.Dh)(3),(0,h.Dh)(10),(0,h.Dh)(-15)],onClick:function(){(0,h.sj)(t(e[1].route))},children:(0,p.jsx)(F.Z,{textstring:"<-Back",fontSize:10,fontHeight:.3,position:[0,0,0],hover:"#ff99cc"})}),(0,p.jsx)(s.z,{minPolarAngle:(0,h.Dh)(.24),maxPolarAngle:(0,h.Dh)(.4),maxAzimuthAngle:(0,h.Dh)(.5),minAzimuthAngle:(0,h.Dh)(-.5),maxDistance:(0,h.Dh)(20),minDistance:(0,h.Dh)(12),enablePan:!1}),(0,p.jsxs)(l.xC,{children:[(0,p.jsx)(l.y8,{focusDistance:0,focalLength:300,bokehScale:7.5,height:1}),(0,p.jsx)(l.dp,{luminanceThreshold:40,luminanceSmoothing:9,height:30}),(0,p.jsx)(l.cy,{opacity:.05}),(0,p.jsx)(l.sY,{eskil:!0,offset:0,darkness:1.1})]})]})})})}},1453:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(9439),r=n(4671),a=n(7760),o=n(2703),s=n(9335),c=n(7105),h=n(2791),l=n(6944),u=n(184);function m(e){var t=e.inclination,n=void 0===t?.2:t,m=e.azimuth,d=void 0===m?0:m,f=e.mieCoefficient,p=void 0===f?.82:f,g=e.mieDirectionalG,D=void 0===g?.59:g,x=e.rayleigh,v=void 0===x?0:x,j=e.turbidity,w=void 0===j?5:j,Z=(0,h.useState)({lightsOn:!1}),S=(0,i.Z)(Z,2),b=S[0],M=(S[1],(0,h.useRef)()),y=(0,s.q_)({position:b.lightsOn?[0,(0,o.Dh)(0),(0,o.Dh)(0)]:[0,(0,o.Dh)(0),0],opacity:b.lightsOn?0:.2}),k=b.lightsOn?new a.Vector3(0,.5,-90):new a.Vector3(0,.005,-.1);return(0,l.A)((function(e,t){M.current&&c.Ui.damp3(M.current.material.uniforms.sunPosition,k,.25,t)})),(0,u.jsx)(s.q.group,{position:y.position,children:(0,u.jsx)(r.q,{ref:M,distance:window.innerWidth,sunPosition:k,inclination:n,azimuth:d,mieCoefficient:p,mieDirectionalG:D,rayleigh:v,turbidity:w})})}}}]);
//# sourceMappingURL=241.c6b1d5cc.chunk.js.map